{
  "id": "uploadPost",
  "method": "post",
  "path": "/posts/upload",
  "summary": "Upload a new post, including a file, to the server.",
  "tags": [
    "Posts"
  ],
  "security": [],
  "requestBody": {
    "required": true,
    "content": {
      "application/json": {
        "schema": {
          "type": "object",
          "description": "Request body for uploading a post. The file content is expected as a base64 encoded string.",
          "required": [
            "file"
          ],
          "properties": {
            "file": {
              "type": "string",
              "format": "byte",
              "description": "The file content encoded as a base64 string. (e.g., image/document data)"
            },
            "description": {
              "type": "string",
              "description": "Optional description or caption for the post."
            }
          }
        }
      }
    }
  },
  "responses": {
    "201": {
      "description": "File uploaded successfully and post created.",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "A confirmation message indicating successful upload."
              },
              "postId": {
                "type": "string",
                "description": "The unique identifier of the newly created post."
              },
              "fileUrl": {
                "type": "string",
                "format": "uri",
                "description": "The public URL where the uploaded file can be accessed."
              }
            },
            "required": [
              "message",
              "postId",
              "fileUrl"
            ]
          }
        }
      }
    },
    "400": {
      "description": "Bad Request. The request was malformed, or required fields were missing.",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "Error message explaining the reason for the bad request (e.g., 'File content is required')."
              }
            },
            "required": [
              "message"
            ]
          }
        }
      }
    },
    "500": {
      "description": "Internal Server Error. An unexpected error occurred on the server.",
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "Generic error message from the server."
              }
            },
            "required": [
              "message"
            ]
          }
        }
      }
    }
  }
}